<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teams - CollabSpace</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/public/css/style.css" />

    <%- include('partials/head') %>
  </head>
  <body class="bg-light">
    <!-- Navigation -->
    <%- include('partials/nav') %>

    <!-- Main Content -->
    <main class="container-fluid">
      <div class="row">
        <!-- Sidebar -->
        <%- include('partials/sidebar') %>

        <!-- Main Content Area -->
        <div class="col-md-9">
          <div class="container-fluid">
            <!-- Page Header -->
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
              <h1 class="h2">Team Management</h1>
              <div class="btn-toolbar mb-2 mb-md-0">
                <div class="btn-group me-2">
                  <button
                    type="button"
                    class="btn btn-sm btn-outline-secondary"
                  >
                    Filter
                  </button>
                  <button
                    type="button"
                    class="btn btn-sm btn-outline-secondary"
                  >
                    Sort
                  </button>
                </div>
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-toggle="modal"
                  data-bs-target="#createTeamModal"
                >
                  <i class="fas fa-plus me-2"></i>Create Team
                </button>
              </div>
            </div>

            <!-- Team Stats -->
            <div class="row mb-4">
              <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-primary shadow h-100 py-2">
                  <div class="card-body">
                    <div class="row no-gutters align-items-center">
                      <div class="col mr-2">
                        <div
                          class="text-xs font-weight-bold text-primary text-uppercase mb-1"
                        >
                          Total Teams
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">
                          8
                        </div>
                      </div>
                      <div class="col-auto">
                        <i class="fas fa-users fa-2x text-gray-300"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-success shadow h-100 py-2">
                  <div class="card-body">
                    <div class="row no-gutters align-items-center">
                      <div class="col mr-2">
                        <div
                          class="text-xs font-weight-bold text-success text-uppercase mb-1"
                        >
                          Active Teams
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">
                          6
                        </div>
                      </div>
                      <div class="col-auto">
                        <i class="fas fa-check-circle fa-2x text-gray-300"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-info shadow h-100 py-2">
                  <div class="card-body">
                    <div class="row no-gutters align-items-center">
                      <div class="col mr-2">
                        <div
                          class="text-xs font-weight-bold text-info text-uppercase mb-1"
                        >
                          Total Members
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">
                          42
                        </div>
                      </div>
                      <div class="col-auto">
                        <i class="fas fa-user-friends fa-2x text-gray-300"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-warning shadow h-100 py-2">
                  <div class="card-body">
                    <div class="row no-gutters align-items-center">
                      <div class="col mr-2">
                        <div
                          class="text-xs font-weight-bold text-warning text-uppercase mb-1"
                        >
                          Pending Invites
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">
                          5
                        </div>
                      </div>
                      <div class="col-auto">
                        <i class="fas fa-clock fa-2x text-gray-300"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Team Filters -->
            <div class="row mb-4">
              <div class="col-md-3">
                <label for="teamTypeFilter" class="form-label">Team Type</label>
                <select class="form-select" id="teamTypeFilter">
                  <option value="">All Types</option>
                  <option value="public">Public</option>
                  <option value="private">Private</option>
                </select>
              </div>
              <div class="col-md-3">
                <label for="teamStatusFilter" class="form-label">Status</label>
                <select class="form-select" id="teamStatusFilter">
                  <option value="">All Statuses</option>
                  <option value="active">Active</option>
                  <option value="inactive">Inactive</option>
                </select>
              </div>
              <div class="col-md-3">
                <label for="teamSizeFilter" class="form-label">Team Size</label>
                <select class="form-select" id="teamSizeFilter">
                  <option value="">Any Size</option>
                  <option value="small">Small (2-5)</option>
                  <option value="medium">Medium (6-10)</option>
                  <option value="large">Large (10+)</option>
                </select>
              </div>
              <div class="col-md-3">
                <label for="searchTeams" class="form-label">Search</label>
                <input
                  type="text"
                  class="form-control"
                  id="searchTeams"
                  placeholder="Search teams..."
                />
              </div>
            </div>

            <!-- Teams Grid -->
            <div class="row" id="teamsGrid">
              <!-- Development Team -->
              <div class="col-lg-4 col-md-6 mb-4">
                <div class="card team-card h-100">
                  <div
                    class="card-header d-flex justify-content-between align-items-center"
                  >
                    <h6 class="mb-0">
                      <i class="fas fa-code me-2 text-primary"></i>
                      Development Team
                    </h6>
                    <div class="dropdown">
                      <button
                        class="btn btn-sm btn-link p-0"
                        data-bs-toggle="dropdown"
                      >
                        <i class="fas fa-ellipsis-v"></i>
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="viewTeam(1)"
                            >View Details</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="editTeam(1)"
                            >Edit Team</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="inviteToTeam(1)"
                            >Invite Members</a
                          >
                        </li>
                        <li><hr class="dropdown-divider" /></li>
                        <li>
                          <a
                            class="dropdown-item text-danger"
                            href="#"
                            onclick="deleteTeam(1)"
                            >Delete Team</a
                          >
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="card-body">
                    <p class="card-text">
                      Core development team for the main application. Focuses on
                      backend, frontend, and mobile development.
                    </p>
                    <div class="row text-center mb-3">
                      <div class="col-4">
                        <div class="h5 mb-0 text-primary">8</div>
                        <small class="text-muted">Members</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-success">15</div>
                        <small class="text-muted">Tasks</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-info">75%</div>
                        <small class="text-muted">Progress</small>
                      </div>
                    </div>
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <span class="badge bg-success">Active</span>
                      <small class="text-muted">Created: Dec 1, 2024</small>
                    </div>
                  </div>
                  <div class="card-footer">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div class="d-flex align-items-center">
                        <img
                          src="https://via.placeholder.com/32x32"
                          class="rounded-circle me-2"
                          alt="Admin"
                        />
                        <small class="text-muted">Admin: John Doe</small>
                      </div>
                      <a
                        href="/chat?team=1"
                        class="btn btn-sm btn-outline-primary"
                      >
                        <i class="fas fa-comments me-1"></i>Chat
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Marketing Team -->
              <div class="col-lg-4 col-md-6 mb-4">
                <div class="card team-card h-100">
                  <div
                    class="card-header d-flex justify-content-between align-items-center"
                  >
                    <h6 class="mb-0">
                      <i class="fas fa-bullhorn me-2 text-success"></i>
                      Marketing Team
                    </h6>
                    <div class="dropdown">
                      <button
                        class="btn btn-sm btn-link p-0"
                        data-bs-toggle="dropdown"
                      >
                        <i class="fas fa-ellipsis-v"></i>
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="viewTeam(2)"
                            >View Details</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="editTeam(2)"
                            >Edit Team</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="inviteToTeam(2)"
                            >Invite Members</a
                          >
                        </li>
                        <li><hr class="dropdown-divider" /></li>
                        <li>
                          <a
                            class="dropdown-item text-danger"
                            href="#"
                            onclick="deleteTeam(2)"
                            >Delete Team</a
                          >
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="card-body">
                    <p class="card-text">
                      Handles all marketing activities including social media,
                      content creation, and brand management.
                    </p>
                    <div class="row text-center mb-3">
                      <div class="col-4">
                        <div class="h5 mb-0 text-primary">6</div>
                        <small class="text-muted">Members</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-success">12</div>
                        <small class="text-muted">Tasks</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-info">60%</div>
                        <small class="text-muted">Progress</small>
                      </div>
                    </div>
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <span class="badge bg-success">Active</span>
                      <small class="text-muted">Created: Dec 5, 2024</small>
                    </div>
                  </div>
                  <div class="card-footer">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div class="d-flex align-items-center">
                        <img
                          src="https://via.placeholder.com/32x32"
                          class="rounded-circle me-2"
                          alt="Admin"
                        />
                        <small class="text-muted">Admin: Jane Smith</small>
                      </div>
                      <a
                        href="/chat?team=2"
                        class="btn btn-sm btn-outline-primary"
                      >
                        <i class="fas fa-comments me-1"></i>Chat
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Design Team -->
              <div class="col-lg-4 col-md-6 mb-4">
                <div class="card team-card h-100">
                  <div
                    class="card-header d-flex justify-content-between align-items-center"
                  >
                    <h6 class="mb-0">
                      <i class="fas fa-palette me-2 text-warning"></i>
                      Design Team
                    </h6>
                    <div class="dropdown">
                      <button
                        class="btn btn-sm btn-link p-0"
                        data-bs-toggle="dropdown"
                      >
                        <i class="fas fa-ellipsis-v"></i>
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="viewTeam(3)"
                            >View Details</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="editTeam(3)"
                            >Edit Team</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="inviteToTeam(3)"
                            >Invite Members</a
                          >
                        </li>
                        <li><hr class="dropdown-divider" /></li>
                        <li>
                          <a
                            class="dropdown-item text-danger"
                            href="#"
                            onclick="deleteTeam(3)"
                            >Delete Team</a
                          >
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="card-body">
                    <p class="card-text">
                      Creates visual designs, user interfaces, and user
                      experience solutions for all products.
                    </p>
                    <div class="row text-center mb-3">
                      <div class="col-4">
                        <div class="h5 mb-0 text-primary">4</div>
                        <small class="text-muted">Members</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-success">8</div>
                        <small class="text-muted">Tasks</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-info">90%</div>
                        <small class="text-muted">Progress</small>
                      </div>
                    </div>
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <span class="badge bg-success">Active</span>
                      <small class="text-muted">Created: Dec 10, 2024</small>
                    </div>
                  </div>
                  <div class="card-footer">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div class="d-flex align-items-center">
                        <img
                          src="https://via.placeholder.com/32x32"
                          class="rounded-circle me-2"
                          alt="Admin"
                        />
                        <small class="text-muted">Admin: Bob Johnson</small>
                      </div>
                      <a
                        href="/chat?team=3"
                        class="btn btn-sm btn-outline-primary"
                      >
                        <i class="fas fa-comments me-1"></i>Chat
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- QA Team -->
              <div class="col-lg-4 col-md-6 mb-4">
                <div class="card team-card h-100">
                  <div
                    class="card-header d-flex justify-content-between align-items-center"
                  >
                    <h6 class="mb-0">
                      <i class="fas fa-bug me-2 text-danger"></i>
                      QA Team
                    </h6>
                    <div class="dropdown">
                      <button
                        class="btn btn-sm btn-link p-0"
                        data-bs-toggle="dropdown"
                      >
                        <i class="fas fa-ellipsis-v"></i>
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="viewTeam(4)"
                            >View Details</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="editTeam(4)"
                            >Edit Team</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="inviteToTeam(4)"
                            >Invite Members</a
                          >
                        </li>
                        <li><hr class="dropdown-divider" /></li>
                        <li>
                          <a
                            class="dropdown-item text-danger"
                            href="#"
                            onclick="deleteTeam(4)"
                            >Delete Team</a
                          >
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="card-body">
                    <p class="card-text">
                      Ensures quality assurance through testing, bug reporting,
                      and user acceptance testing.
                    </p>
                    <div class="row text-center mb-3">
                      <div class="col-4">
                        <div class="h5 mb-0 text-primary">5</div>
                        <small class="text-muted">Members</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-success">20</div>
                        <small class="text-muted">Tasks</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-info">45%</div>
                        <small class="text-muted">Progress</small>
                      </div>
                    </div>
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <span class="badge bg-warning">Busy</span>
                      <small class="text-muted">Created: Dec 15, 2024</small>
                    </div>
                  </div>
                  <div class="card-footer">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div class="d-flex align-items-center">
                        <img
                          src="https://via.placeholder.com/32x32"
                          class="rounded-circle me-2"
                          alt="Admin"
                        />
                        <small class="text-muted">Admin: Alice Brown</small>
                      </div>
                      <a
                        href="/chat?team=4"
                        class="btn btn-sm btn-outline-primary"
                      >
                        <i class="fas fa-comments me-1"></i>Chat
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Sales Team -->
              <div class="col-lg-4 col-md-6 mb-4">
                <div class="card team-card h-100">
                  <div
                    class="card-header d-flex justify-content-between align-items-center"
                  >
                    <h6 class="mb-0">
                      <i class="fas fa-chart-line me-2 text-info"></i>
                      Sales Team
                    </h6>
                    <div class="dropdown">
                      <button
                        class="btn btn-sm btn-link p-0"
                        data-bs-toggle="dropdown"
                      >
                        <i class="fas fa-ellipsis-v"></i>
                      </button>
                      <ul class="dropdown-menu">
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="viewTeam(5)"
                            >View Details</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="editTeam(5)"
                            >Edit Team</a
                          >
                        </li>
                        <li>
                          <a
                            class="dropdown-item"
                            href="#"
                            onclick="inviteToTeam(5)"
                            >Invite Members</a
                          >
                        </li>
                        <li><hr class="dropdown-divider" /></li>
                        <li>
                          <a
                            class="dropdown-item text-danger"
                            href="#"
                            onclick="deleteTeam(5)"
                            >Delete Team</a
                          >
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="card-body">
                    <p class="card-text">
                      Drives revenue growth through customer acquisition,
                      relationship management, and sales strategies.
                    </p>
                    <div class="row text-center mb-3">
                      <div class="col-4">
                        <div class="h5 mb-0 text-primary">7</div>
                        <small class="text-muted">Members</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-success">18</div>
                        <small class="text-muted">Tasks</small>
                      </div>
                      <div class="col-4">
                        <div class="h5 mb-0 text-info">80%</div>
                        <small class="text-muted">Progress</small>
                      </div>
                    </div>
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <span class="badge bg-success">Active</span>
                      <small class="text-muted">Created: Dec 20, 2024</small>
                    </div>
                  </div>
                  <div class="card-footer">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div class="d-flex align-items-center">
                        <img
                          src="https://via.placeholder.com/32x32"
                          class="rounded-circle me-2"
                          alt="Admin"
                        />
                        <small class="text-muted">Admin: Mike Wilson</small>
                      </div>
                      <a
                        href="/chat?team=5"
                        class="btn btn-sm btn-outline-primary"
                      >
                        <i class="fas fa-comments me-1"></i>Chat
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Create Team Modal -->
          <div class="modal fade" id="createTeamModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Create New Team</h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="createTeamForm">
                    <div class="row">
                      <div class="col-md-8">
                        <div class="mb-3">
                          <label for="teamName" class="form-label"
                            >Team Name *</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="teamName"
                            required
                          />
                        </div>
                        <div class="mb-3">
                          <label for="teamDescription" class="form-label"
                            >Description</label
                          >
                          <textarea
                            class="form-control"
                            id="teamDescription"
                            rows="4"
                            placeholder="Describe the team's purpose and goals..."
                          ></textarea>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="mb-3">
                          <label for="teamType" class="form-label"
                            >Team Type</label
                          >
                          <select class="form-select" id="teamType">
                            <option value="private">Private</option>
                            <option value="public">Public</option>
                          </select>
                        </div>
                        <div class="mb-3">
                          <label for="teamCategory" class="form-label"
                            >Category</label
                          >
                          <select class="form-select" id="teamCategory">
                            <option value="development">Development</option>
                            <option value="marketing">Marketing</option>
                            <option value="design">Design</option>
                            <option value="sales">Sales</option>
                            <option value="support">Support</option>
                            <option value="other">Other</option>
                          </select>
                        </div>
                        <div class="mb-3">
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="teamNotifications"
                            />
                            <label
                              class="form-check-label"
                              for="teamNotifications"
                            >
                              Enable notifications
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="mb-3">
                      <label for="teamTags" class="form-label">Tags</label>
                      <input
                        type="text"
                        class="form-control"
                        id="teamTags"
                        placeholder="Enter tags separated by commas"
                      />
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancel
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    onclick="createTeam()"
                  >
                    Create Team
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Edit Team Modal -->
          <div class="modal fade" id="editTeamModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Edit Team</h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="editTeamForm">
                    <input type="hidden" id="editTeamId" />
                    <div class="row">
                      <div class="col-md-8">
                        <div class="mb-3">
                          <label for="editTeamName" class="form-label"
                            >Team Name *</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="editTeamName"
                            required
                          />
                        </div>
                        <div class="mb-3">
                          <label for="editTeamDescription" class="form-label"
                            >Description</label
                          >
                          <textarea
                            class="form-control"
                            id="editTeamDescription"
                            rows="4"
                          ></textarea>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="mb-3">
                          <label for="editTeamType" class="form-label"
                            >Team Type</label
                          >
                          <select class="form-select" id="editTeamType">
                            <option value="private">Private</option>
                            <option value="public">Public</option>
                          </select>
                        </div>
                        <div class="mb-3">
                          <label for="editTeamCategory" class="form-label"
                            >Category</label
                          >
                          <select class="form-select" id="editTeamCategory">
                            <option value="development">Development</option>
                            <option value="marketing">Marketing</option>
                            <option value="design">Design</option>
                            <option value="sales">Sales</option>
                            <option value="support">Support</option>
                            <option value="other">Other</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancel
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    onclick="updateTeam()"
                  >
                    Update Team
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Invite User Modal -->
          <div class="modal fade" id="inviteUserModal" tabindex="-1">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Invite User to Team</h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                  ></button>
                </div>
                <div class="modal-body">
                  <form>
                    <div class="mb-3">
                      <label for="inviteEmail" class="form-label"
                        >Email Address</label
                      >
                      <input
                        type="email"
                        class="form-control"
                        id="inviteEmail"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="inviteRole" class="form-label">Role</label>
                      <select class="form-select" id="inviteRole">
                        <option value="member">Member</option>
                        <option value="admin">Admin</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="inviteMessage" class="form-label"
                        >Personal Message (Optional)</label
                      >
                      <textarea
                        class="form-control"
                        id="inviteMessage"
                        rows="3"
                        placeholder="Add a personal message to your invitation..."
                      ></textarea>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancel
                  </button>
                  <button type="button" class="btn btn-primary">
                    Send Invitation
                  </button>
                </div>
              </div>
            </div>
          </div>

          <script>
            // Team management functions
            function createTeam() {
              const form = document.getElementById("createTeamForm");
              const formData = new FormData(form);

              // Implementation for creating a new team
              console.log("Creating new team...");

              // Close modal and refresh team list
              $("#createTeamModal").modal("hide");
              form.reset();
            }

            function editTeam(teamId) {
              // Implementation for editing a team
              console.log("Editing team:", teamId);

              // Populate form with team data
              document.getElementById("editTeamId").value = teamId;
              document.getElementById("editTeamName").value =
                "Development Team";
              document.getElementById("editTeamDescription").value =
                "Core development team for the main application";
              document.getElementById("editTeamType").value = "private";
              document.getElementById("editTeamCategory").value = "development";

              $("#editTeamModal").modal("show");
            }

            function updateTeam() {
              // Implementation for updating a team
              console.log("Updating team...");

              // Close modal and refresh team list
              $("#editTeamModal").modal("hide");
            }

            function deleteTeam(teamId) {
              // Implementation for deleting a team
              if (
                confirm(
                  "Are you sure you want to delete this team? This action cannot be undone."
                )
              ) {
                console.log("Deleting team:", teamId);
                // Remove team from DOM and update counts
              }
            }

            function viewTeam(teamId) {
              // Implementation for viewing team details
              console.log("Viewing team:", teamId);
              // Navigate to team detail page or show detailed modal
            }

            function inviteToTeam(teamId) {
              // Implementation for inviting users to team
              console.log("Inviting to team:", teamId);
              $("#inviteUserModal").modal("show");
            }

            // Initialize team management functionality
            document.addEventListener("DOMContentLoaded", function () {
              // Set up filters
              setupFilters();

              // Set up search functionality
              setupSearch();
            });

            function setupFilters() {
              const filters = [
                "teamTypeFilter",
                "teamStatusFilter",
                "teamSizeFilter",
              ];

              filters.forEach((filterId) => {
                const filter = document.getElementById(filterId);
                if (filter) {
                  filter.addEventListener("change", applyFilters);
                }
              });
            }

            function setupSearch() {
              const searchInput = document.getElementById("searchTeams");
              if (searchInput) {
                searchInput.addEventListener("input", function () {
                  const searchTerm = this.value.toLowerCase();
                  filterTeamsBySearch(searchTerm);
                });
              }
            }

            function applyFilters() {
              const typeFilter =
                document.getElementById("teamTypeFilter").value;
              const statusFilter =
                document.getElementById("teamStatusFilter").value;
              const sizeFilter =
                document.getElementById("teamSizeFilter").value;

              // Implementation for applying filters
              console.log("Applying filters:", {
                typeFilter,
                statusFilter,
                sizeFilter,
              });
            }

            function filterTeamsBySearch(searchTerm) {
              const teamCards = document.querySelectorAll(".team-card");

              teamCards.forEach((card) => {
                const teamName = card
                  .querySelector(".card-header h6")
                  .textContent.toLowerCase();
                const teamDescription = card
                  .querySelector(".card-text")
                  .textContent.toLowerCase();

                if (
                  teamName.includes(searchTerm) ||
                  teamDescription.includes(searchTerm)
                ) {
                  card.style.display = "block";
                } else {
                  card.style.display = "none";
                }
              });
            }
          </script>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <%- include('partials/footer') %>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Socket.IO -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- Custom JS -->
    <script src="/public/js/main.js"></script>

    <%- include('partials/scripts') %>
  </body>
</html>
